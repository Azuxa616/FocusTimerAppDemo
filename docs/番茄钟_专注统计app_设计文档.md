# 文档一：需求分析（requirements.md）

## 1. 项目背景

本项目为移动开发课程作业，目标是完成一个**无需或极少依赖后端服务**的 Android 原生应用。应用以「番茄钟 + 专注统计」为主题，帮助用户通过番茄工作法提升专注效率，同时记录和展示专注数据。

项目采用 **Kotlin + Jetpack Compose** 技术栈，强调现代 Android UI 架构与状态驱动思想。

---

## 2. 项目目标

- 实现一个完整、可运行的移动应用
- 覆盖计时、状态管理、页面导航、数据持久化等核心移动开发能力
- 保证功能具有一定复杂度，但整体实现难度可控
- 尽量避免复杂后端，仅使用本地存储

---

## 3. 功能性需求

### 3.1 番茄钟功能
- 支持标准番茄钟流程（专注 / 休息）
- 默认专注时长 25 分钟，休息 5 分钟（可配置）
- 支持：开始、暂停、继续、重置
- 倒计时结束后给出提示（文字或震动）

### 3.2 专注记录
- 每完成一次专注，自动生成一条记录
- 记录内容包括：
  - 专注开始时间
  - 专注时长
  - 完成状态

### 3.3 专注统计
- 展示每日专注次数
- 展示每日专注总时长
- 支持按天 / 周查看统计结果

### 3.4 基础设置
- 设置番茄钟时长（专注 / 休息）
- 是否开启提示音或震动（可选）

---

## 4. 非功能性需求

- 应用需在常见 Android 设备上正常运行
- UI 使用 Jetpack Compose 实现，避免 XML
- 数据持久化采用本地存储（Room 或 DataStore）
- 界面简洁，交互逻辑清晰
- 保证代码结构清楚，便于课程展示和讲解

---

# 文档二：页面结构拆解（pages.md）

## 1. 页面整体结构

应用采用单 Activity + 多 Compose 页面结构，通过 Navigation Compose 实现页面切换。

主要页面包括：
- 番茄钟主页
- 专注统计页
- 设置页

---

## 2. 番茄钟主页（HomePage）

### 页面功能
- 显示当前番茄钟状态（专注 / 休息）
- 显示剩余倒计时
- 提供控制按钮

### 页面元素
- 顶部标题栏（应用名）
- 中央圆形倒计时显示
- 状态文本（专注中 / 休息中）
- 控制按钮区域：开始 / 暂停 / 重置

---

## 3. 专注统计页（StatisticsPage）

### 页面功能
- 展示用户的专注数据统计

### 页面元素
- 今日专注次数
- 今日专注总时长
- 简单统计列表（按天）

---

## 4. 设置页（SettingsPage）

### 页面功能
- 配置番茄钟参数

### 页面元素
- 专注时长设置
- 休息时长设置
- 提示方式开关

---

# 文档三：Compose 组件拆分（components.md）

## 1. 架构思路

UI 层采用 Jetpack Compose 的组件化思想，将页面拆分为多个可复用的 Composable 函数，通过状态驱动 UI 更新。

状态统一由 ViewModel 管理，Composable 只负责展示。

---

## 2. 全局组件

### AppRoot
- 应用入口
- 设置主题
- 配置 Navigation

---

## 3. 番茄钟相关组件

### TomatoTimerScreen
- 番茄钟主页整体布局

### TimerCircle
- 圆形倒计时显示组件
- 根据剩余时间刷新 UI

### TimerStatusText
- 显示当前状态（专注 / 休息）

### TimerControlButtons
- 开始 / 暂停 / 重置按钮组合

---

## 4. 统计相关组件

### StatisticsScreen
- 统计页整体布局

### DailySummaryCard
- 展示某一天的专注汇总信息

### StatisticsList
- 专注记录列表组件

---

## 5. 设置相关组件

### SettingsScreen
- 设置页整体布局

### DurationSettingItem
- 单项时间设置组件

### SwitchSettingItem
- 开关类型设置组件

---

## 6. 状态管理组件

### TimerViewModel
- 管理倒计时逻辑
- 控制专注与休息状态

### StatisticsViewModel
- 管理专注记录与统计数据

---

## 7. 组件拆分优势

- 提高代码可读性与可维护性
- 组件可复用，降低耦合
- 符合 Compose 的声明式 UI 思想
- 方便后续功能扩展

